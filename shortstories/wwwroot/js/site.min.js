const pageLoadFunction=()=>{const t=new Home;t.homePage!==null&&(t.getStoriesByFollowers(window.localStorage.getItem("pid"),"home-follower-stories"),t.getStoriesByFilter("New","home-filter-stories"),t.addMainDropdownButtonEventListener(),t.addAllDropdownButtonEventListeners());const f=new Register;f.addFormEventListener();f.changeChosenAvatar();const e=new Login;e.addFormEventListener();const i=new Header;i.addClickFunctionalityToHeaderHamburgerIcon();i.checkAuthorizationState().then(n=>{n&&(document.getElementsByClassName("header-unauthenticated")[0].style.display="none",document.getElementById("header-username").innerHTML=n,document.getElementsByClassName("header-authenticated")[0].style.display="block",i.logoutEventListener(),i.setAvatar(),i.setProfileLink(),i.setSettingsLink())}).catch(()=>{});const r=new Profile;r.profileViewId!=null&&(window.localStorage.getItem("pid")!==null?(r.followButtonAddEventListeners(),r.unfollowButtonAddEventListners(),r.checkIfUserIsAFriend()):r.hideButtons(),r.displayProfileAvatar(),t.getStoriesByProfile(document.getElementById("profile-username").innerHTML,"profile-stories"));const o=new Story,u=new EditStory;u.editStoryPage!==null&&(u.getStoryDetails(document.getElementById("edit-story-id").value).then(()=>{u.updateStoryButtonFunctionality()}).catch(()=>{}),u.updateSelectedGenresFunctionality(),u.switchingBetweenStoryAndChapterSelection());const n=new Settings;document.getElementById("main-container").addEventListener("click",t=>{t.target.id!=="settings-update-user-button"&&n.hideCurrentLoginDetailsPrompt()});n.settingsPage!==null&&(n.preSelectCurrentAvatar(),n.preSelectCurrentWriterLabel(),n.preFillProfileDescription(),n.displayCurrentStories(),n.updateUserButtonEventListeners(),n.updateProfileButtonEventListeners())};window.addEventListener("DOMContentLoaded",()=>{pageLoadFunction()});